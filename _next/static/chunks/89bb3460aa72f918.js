(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96363,e=>{"use strict";e.i(24418);var t=e.i(79946),r=e.i(18924),i=e.i(6756),a=e.i(11387),o=e.i(92849);let n=(0,e.i(27040).default)();var l=e.i(97120),s=e.i(90623),c=e.i(40823),d=e.i(18634),p=e.i(33181),u=e.i(88715),g=e.i(81738);let f=(0,d.default)(),h=n("div",{name:"MuiStack",slot:"Root"});function m(e){return function({props:e,name:t,defaultTheme:r,themeId:i}){let a=(0,s.default)(r);return i&&(a=a[i]||a),function(e){let{theme:t,name:r,props:i}=e;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?(0,l.default)(t.components[r].defaultProps,i):i}({theme:a,name:t,props:e})}({props:e,name:"MuiStack",defaultTheme:f})}let v=({ownerState:e,theme:t})=>{let r={display:"flex",flexDirection:"column",...(0,p.handleBreakpoints)({theme:t},(0,p.resolveBreakpointValues)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e}))};if(e.spacing){let a=(0,u.createUnarySpacing)(t),o=Object.keys(t.breakpoints.values).reduce((t,r)=>(("object"==typeof e.spacing&&null!=e.spacing[r]||"object"==typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t),{}),n=(0,p.resolveBreakpointValues)({values:e.direction,base:o}),l=(0,p.resolveBreakpointValues)({values:e.spacing,base:o});"object"==typeof n&&Object.keys(n).forEach((e,t,r)=>{if(!n[e]){let i=t>0?n[r[t-1]]:"column";n[e]=i}}),r=(0,i.default)(r,(0,p.handleBreakpoints)({theme:t},l,(t,r)=>e.useFlexGap?{gap:(0,u.getValue)(a,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[r?n[r]:e.direction]}`]:(0,u.getValue)(a,t)}}))}return(0,p.mergeBreakpointsInOrder)(t.breakpoints,r)};var y=e.i(13959),x=e.i(60076);let b=function(e={}){let{createStyledComponent:i=h,useThemeProps:n=m,componentName:l="MuiStack"}=e,s=i(v);return t.forwardRef(function(e,i){let d,p=n(e),{component:u="div",direction:f="column",spacing:h=0,divider:m,children:v,className:y,useFlexGap:x=!1,...b}=(0,c.extendSxProp)(p),O=(0,o.default)({root:["root"]},e=>(0,a.default)(l,e),{});return(0,g.jsx)(s,{as:u,ownerState:{direction:f,spacing:h,useFlexGap:x},ref:i,className:(0,r.default)(O.root,y),...b,children:m?(d=t.Children.toArray(v).filter(Boolean)).reduce((e,r,i)=>(e.push(r),i<d.length-1&&e.push(t.cloneElement(m,{key:`separator-${i}`})),e),[]):v})})}({createStyledComponent:(0,y.default)("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>(0,x.useDefaultProps)({props:e,name:"MuiStack"})});e.s(["Stack",0,b],96363)},93199,e=>{"use strict";var t=e.i(79946);e.s(["default",0,function(e){let r=t.useRef({});return t.useEffect(()=>{r.current=e}),r.current}])},36543,e=>{"use strict";var t=e.i(81738),r=e.i(79946),i=e.i(37003),a=e.i(15116),o=e.i(78440),n=e.i(56357),l=e.i(282),s=e.i(8243),s=s;e.i(24418);var c=e.i(18924),d=e.i(93199),p=e.i(92849);let u=function(e){let{badgeContent:t,invisible:r=!1,max:i=99,showZero:a=!1}=e,o=(0,d.default)({badgeContent:t,max:i}),n=r;!1!==r||0!==t||a||(n=!0);let{badgeContent:l,max:s=i}=n?o:e,c=l&&Number(l)>s?`${s}+`:l;return{badgeContent:l,invisible:n,max:s,displayValue:c}};var g=e.i(42469),f=e.i(54050),h=e.i(43679),m=e.i(60076),v=e.i(34694),y=e.i(12598),x=e.i(11387);function b(e){return(0,x.default)("MuiBadge",e)}let O=(0,y.default)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]);var j=e.i(44348);let C=(0,g.styled)("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),T=(0,g.styled)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.badge,t[r.variant],t[`anchorOrigin${(0,v.default)(r.anchorOrigin.vertical)}${(0,v.default)(r.anchorOrigin.horizontal)}${(0,v.default)(r.overlap)}`],"default"!==r.color&&t[`color${(0,v.default)(r.color)}`],r.invisible&&t.invisible]}})((0,f.default)(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter((0,h.default)(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${O.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${O.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${O.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${O.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${O.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${O.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${O.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${O.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function S(e){return{vertical:e?.vertical??"top",horizontal:e?.horizontal??"right"}}let B=r.forwardRef(function(e,r){let i=(0,m.useDefaultProps)({props:e,name:"MuiBadge"}),{anchorOrigin:a,className:o,classes:n,component:l,components:s={},componentsProps:g={},children:f,overlap:h="rectangular",color:y="default",invisible:x=!1,max:O=99,badgeContent:B,slots:k,slotProps:R,showZero:$=!1,variant:z="standard",...P}=i,{badgeContent:w,invisible:M,max:_,displayValue:D}=u({max:O,invisible:x,badgeContent:B,showZero:$}),I=(0,d.default)({anchorOrigin:S(a),color:y,overlap:h,variant:z,badgeContent:B}),W=M||null==w&&"dot"!==z,{color:A=y,overlap:E=h,anchorOrigin:F,variant:q=z}=W?I:i,L=S(F),H="dot"!==q?D:void 0,V={...i,badgeContent:w,invisible:W,max:_,displayValue:H,showZero:$,anchorOrigin:L,color:A,overlap:E,variant:q},N=(e=>{let{color:t,anchorOrigin:r,invisible:i,overlap:a,variant:o,classes:n={}}=e,l={root:["root"],badge:["badge",o,i&&"invisible",`anchorOrigin${(0,v.default)(r.vertical)}${(0,v.default)(r.horizontal)}`,`anchorOrigin${(0,v.default)(r.vertical)}${(0,v.default)(r.horizontal)}${(0,v.default)(a)}`,`overlap${(0,v.default)(a)}`,"default"!==t&&`color${(0,v.default)(t)}`]};return(0,p.default)(l,b,n)})(V),U={slots:{root:k?.root??s.Root,badge:k?.badge??s.Badge},slotProps:{root:R?.root??g.root,badge:R?.badge??g.badge}},[K,G]=(0,j.default)("root",{elementType:C,externalForwardedProps:{...U,...P},ownerState:V,className:(0,c.default)(N.root,o),ref:r,additionalProps:{as:l}}),[J,Q]=(0,j.default)("badge",{elementType:T,externalForwardedProps:U,ownerState:V,className:N.badge});return(0,t.jsxs)(K,{...G,children:[f,(0,t.jsx)(J,{...Q,children:H})]})});var k=e.i(40207),R=e.i(96363),$=e.i(61854),z=e.i(49302),P=e.i(97240),w=e.i(25961),M=e.i(5077),_=e.i(38015),D=e.i(62993),I=e.i(32356);let W=(0,e.i(54624).default)((0,t.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart");var A=e.i(15962),E=e.i(58812);function F(){let[e,c]=(0,r.useState)([]),[d,p]=(0,r.useState)([]),[u,g]=(0,r.useState)(!0),[f,h]=(0,r.useState)(!1),[m,v]=(0,r.useState)(!1),[y,x]=(0,r.useState)(!1),[b,O]=(0,r.useState)(!1),[j,C]=(0,r.useState)(!1),[T,S]=(0,r.useState)(!1),F=async()=>{g(!0);try{let e=await i.default.get("https://foodservice-production.up.railway.app/products");c(e.data)}catch(e){console.error("Error fetching products:",e)}finally{g(!1)}};(0,r.useEffect)(()=>{F()},[]);let q=async()=>{if(0!==d.length){x(!0),O(!0),C(!0),S(!1);try{await i.default.post("https://foodservice-production.up.railway.app/sales",{items:d}),p([]),C(!1),v(!1)}catch(e){console.error("Error enviando pedido:",e),C(!1),S(!0)}finally{v(!1),x(!1),F()}}},L=d.reduce((e,t)=>e+t.price*t.quantity,0);return u?(0,t.jsx)(a.Box,{sx:{bgcolor:"#121212",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:(0,t.jsx)(k.CircularProgress,{color:"inherit"})}):(0,t.jsxs)(a.Box,{sx:{p:2,pb:10,bgcolor:"#0a0a0a",color:"#fff",minHeight:"100vh"},children:[(0,t.jsx)(o.Typography,{variant:"h5",fontWeight:"bold",textAlign:"center",sx:{mb:4},children:"ğŸ£ Productos Disponibles"}),(0,t.jsx)(a.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:2},children:(0,t.jsx)(E.AnimatePresence,{children:e.map((e,r)=>(0,t.jsx)(A.motion.div,{layout:!0,initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:.05*r},whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{p(t=>t.find(t=>t.product_id===e.id)?t.map(t=>t.product_id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{product_id:e.id,name:e.name,price:"number"==typeof e.price?e.price:parseFloat(e.price||"0"),quantity:1}]),h(!0),setTimeout(()=>h(!1),400)},children:(0,t.jsx)(n.Card,{sx:{borderRadius:3,boxShadow:3,bgcolor:"#1e1e1e",color:"#fff",cursor:"pointer",height:"100%",transition:"all 0.2s ease-in-out","&:hover":{bgcolor:"#252525"}},children:(0,t.jsxs)(l.CardContent,{children:[(0,t.jsx)(o.Typography,{variant:"h6",fontWeight:"bold",children:e.name}),(0,t.jsx)(o.Typography,{variant:"body2",color:"gray",sx:{mb:1},children:e.description}),(0,t.jsxs)(o.Typography,{variant:"body2",sx:{mb:.5},children:["ğŸ“¦ ",e.max_units_available," disponibles"]}),(0,t.jsxs)(o.Typography,{variant:"body2",sx:{mt:1},children:["ğŸ”§ ",(0,t.jsx)("strong",{children:"Insumos:"})]}),(0,t.jsx)(R.Stack,{spacing:.3,sx:{pl:1,mt:.5},children:e.supplies.map(e=>(0,t.jsxs)(o.Typography,{variant:"caption",color:"gray",display:"block",children:["â€¢ ",e.supply_name," (",e.quantity_needed," ",e.unit,")"]},e.supply_id))})]})})},e.id))})}),(0,t.jsx)(A.motion.div,{animate:f?{scale:[1,1.3,1]}:{scale:1},transition:{duration:.4,ease:"easeOut"},style:{position:"fixed",bottom:24,right:24,zIndex:1e3},children:(0,t.jsx)(s.default,{color:"primary",onClick:()=>v(!0),sx:{bgcolor:"#f50057","&:hover":{bgcolor:"#ff4081"}},children:(0,t.jsx)(B,{badgeContent:d.length,color:"error",children:(0,t.jsx)(W,{sx:{color:"#fff"}})})})}),(0,t.jsxs)($.Dialog,{open:m,onClose:()=>v(!1),fullWidth:!0,maxWidth:"sm",PaperProps:{component:A.motion.div,initial:{opacity:0,y:80},animate:{opacity:1,y:0},exit:{opacity:0,y:80},transition:{duration:.3},style:{backgroundColor:"#1c1c1c",color:"#fff",borderRadius:16}},children:[(0,t.jsx)(z.DialogTitle,{children:"ğŸ§º Resumen del Pedido"}),(0,t.jsx)(P.DialogContent,{dividers:!0,children:0===d.length?(0,t.jsx)(o.Typography,{color:"gray",textAlign:"center",children:"El carrito estÃ¡ vacÃ­o."}):d.map((e,r)=>(0,t.jsxs)(a.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1,p:1,borderRadius:2,bgcolor:"#2a2a2a"},children:[(0,t.jsxs)(o.Typography,{sx:{flex:1},children:[e.name," Ã— ",e.quantity]}),(0,t.jsx)(I.TextField,{type:"number",size:"small",value:e.price,onChange:t=>{var r,i;return r=e.product_id,i=parseFloat(t.target.value),void p(e=>e.map(e=>e.product_id===r?{...e,price:i}:e))},sx:{width:90,bgcolor:"#333",input:{color:"#fff",textAlign:"right"}}}),(0,t.jsxs)(o.Typography,{sx:{ml:2},children:["$",(e.price*e.quantity).toFixed(2)]}),(0,t.jsx)(M.Button,{color:"error",size:"small",onClick:()=>{var t;return t=e.product_id,void p(e=>e.filter(e=>e.product_id!==t))},children:"âŒ"})]},r))}),d.length>0&&(0,t.jsx)(a.Box,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",px:3,py:1,bgcolor:"#2a2a2a"},children:(0,t.jsxs)(o.Typography,{variant:"h6",fontWeight:"bold",children:["Total: $",L.toFixed(2)]})}),(0,t.jsxs)(w.DialogActions,{children:[(0,t.jsx)(M.Button,{onClick:()=>p([]),color:"error",variant:"outlined",disabled:0===d.length,children:"Cancelar"}),(0,t.jsx)(M.Button,{onClick:q,color:"success",variant:"contained",disabled:y||0===d.length,children:y?"Enviando...":"Pagado"})]})]}),(0,t.jsx)(_.Snackbar,{open:b,autoHideDuration:3e3,onClose:()=>O(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,t.jsx)(D.Alert,{icon:j?(0,t.jsx)(k.CircularProgress,{color:"inherit",size:20}):void 0,severity:T?"error":j?"warning":"success",sx:{bgcolor:T?"#d32f2f":j?"#ed6c02":"#4caf50",color:"#fff",width:"100%"},children:T?"No se pudo guardar el pedido":j?"Registrando pedido...":"Pedido registrado correctamente!"})})]})}e.s(["default",()=>F],36543)}]);