(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96363,e=>{"use strict";e.i(24418);var t=e.i(79946),i=e.i(18924),r=e.i(6756),a=e.i(11387),o=e.i(92849);let n=(0,e.i(27040).default)();var l=e.i(97120),s=e.i(90623),d=e.i(40823),c=e.i(18634),p=e.i(33181),h=e.i(88715),u=e.i(81738);let f=(0,c.default)(),g=n("div",{name:"MuiStack",slot:"Root"});function y(e){return function({props:e,name:t,defaultTheme:i,themeId:r}){let a=(0,s.default)(i);return r&&(a=a[r]||a),function(e){let{theme:t,name:i,props:r}=e;return t&&t.components&&t.components[i]&&t.components[i].defaultProps?(0,l.default)(t.components[i].defaultProps,r):r}({theme:a,name:t,props:e})}({props:e,name:"MuiStack",defaultTheme:f})}let v=({ownerState:e,theme:t})=>{let i={display:"flex",flexDirection:"column",...(0,p.handleBreakpoints)({theme:t},(0,p.resolveBreakpointValues)({values:e.direction,breakpoints:t.breakpoints.values}),e=>({flexDirection:e}))};if(e.spacing){let a=(0,h.createUnarySpacing)(t),o=Object.keys(t.breakpoints.values).reduce((t,i)=>(("object"==typeof e.spacing&&null!=e.spacing[i]||"object"==typeof e.direction&&null!=e.direction[i])&&(t[i]=!0),t),{}),n=(0,p.resolveBreakpointValues)({values:e.direction,base:o}),l=(0,p.resolveBreakpointValues)({values:e.spacing,base:o});"object"==typeof n&&Object.keys(n).forEach((e,t,i)=>{if(!n[e]){let r=t>0?n[i[t-1]]:"column";n[e]=r}}),i=(0,r.default)(i,(0,p.handleBreakpoints)({theme:t},l,(t,i)=>e.useFlexGap?{gap:(0,h.getValue)(a,t)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[i?n[i]:e.direction]}`]:(0,h.getValue)(a,t)}}))}return(0,p.mergeBreakpointsInOrder)(t.breakpoints,i)};var x=e.i(13959),m=e.i(60076);let b=function(e={}){let{createStyledComponent:r=g,useThemeProps:n=y,componentName:l="MuiStack"}=e,s=r(v);return t.forwardRef(function(e,r){let c,p=n(e),{component:h="div",direction:f="column",spacing:g=0,divider:y,children:v,className:x,useFlexGap:m=!1,...b}=(0,d.extendSxProp)(p),j=(0,o.default)({root:["root"]},e=>(0,a.default)(l,e),{});return(0,u.jsx)(s,{as:h,ownerState:{direction:f,spacing:g,useFlexGap:m},ref:r,className:(0,i.default)(j.root,x),...b,children:y?(c=t.Children.toArray(v).filter(Boolean)).reduce((e,i,r)=>(e.push(i),r<c.length-1&&e.push(t.cloneElement(y,{key:`separator-${r}`})),e),[]):v})})}({createStyledComponent:(0,x.default)("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>(0,m.useDefaultProps)({props:e,name:"MuiStack"})});e.s(["Stack",0,b],96363)},33156,e=>{"use strict";var t=e.i(12598),i=e.i(11387);function r(e){return(0,i.default)("MuiDivider",e)}let a=(0,t.default)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);e.s(["default",0,a,"getDividerUtilityClass",()=>r])},30204,e=>{"use strict";var t=e.i(81738),i=e.i(79946),r=e.i(37003),a=e.i(15116),o=e.i(78440),n=e.i(96363),l=e.i(56357),s=e.i(282),d=e.i(40207);e.i(24418);var c=e.i(18924),p=e.i(92849),h=e.i(42469),u=e.i(54050),f=e.i(60076),g=e.i(33156);let y=(0,h.styled)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.root,i.absolute&&t.absolute,t[i.variant],i.light&&t.light,"vertical"===i.orientation&&t.vertical,i.flexItem&&t.flexItem,i.children&&t.withChildren,i.children&&"vertical"===i.orientation&&t.withChildrenVertical,"right"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignRight,"left"===i.textAlign&&"vertical"!==i.orientation&&t.textAlignLeft]}})((0,u.default)(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.alpha((e.vars||e).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&"vertical"!==e.orientation,style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>"vertical"===e.orientation&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>"right"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>"left"===e.textAlign&&"vertical"!==e.orientation,style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),v=(0,h.styled)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:i}=e;return[t.wrapper,"vertical"===i.orientation&&t.wrapperVertical]}})((0,u.default)(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),x=i.forwardRef(function(e,i){let r=(0,f.useDefaultProps)({props:e,name:"MuiDivider"}),{absolute:a=!1,children:o,className:n,orientation:l="horizontal",component:s=o||"vertical"===l?"div":"hr",flexItem:d=!1,light:h=!1,role:u="hr"!==s?"separator":void 0,textAlign:x="center",variant:m="fullWidth",...b}=r,j={...r,absolute:a,component:s,flexItem:d,light:h,orientation:l,role:u,textAlign:x,variant:m},w=(e=>{let{absolute:t,children:i,classes:r,flexItem:a,light:o,orientation:n,textAlign:l,variant:s}=e;return(0,p.default)({root:["root",t&&"absolute",s,o&&"light","vertical"===n&&"vertical",a&&"flexItem",i&&"withChildren",i&&"vertical"===n&&"withChildrenVertical","right"===l&&"vertical"!==n&&"textAlignRight","left"===l&&"vertical"!==n&&"textAlignLeft"],wrapper:["wrapper","vertical"===n&&"wrapperVertical"]},g.getDividerUtilityClass,r)})(j);return(0,t.jsx)(y,{as:s,className:(0,c.default)(w.root,n),role:u,ref:i,ownerState:j,"aria-orientation":"separator"===u&&("hr"!==s||"vertical"===l)?l:void 0,...b,children:o?(0,t.jsx)(v,{className:w.wrapper,ownerState:j,children:o}):null})});x&&(x.muiSkipListHighlight=!0);var m=e.i(61854),b=e.i(49302),j=e.i(97240),w=e.i(58121),w=w,C=e.i(5077),S=e.i(15962),T=e.i(50229),k=e.i(38080),R=e.i(95056),B=e.i(94679),V=e.i(77220);function D(e,t){[...t].reverse().forEach(i=>{let r=e.getVariant(i);r&&(0,B.setTarget)(e,r),e.variantChildren&&e.variantChildren.forEach(e=>{D(e,t)})})}function A(){let e=!1,t=new Set,i={subscribe:e=>(t.add(e),()=>void t.delete(e)),start(i,r){(0,R.invariant)(e,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");let a=[];return t.forEach(e=>{a.push((0,V.animateVisualElement)(e,i,{transitionOverride:r}))}),Promise.all(a)},set:i=>((0,R.invariant)(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),t.forEach(e=>{var t,r;t=e,Array.isArray(r=i)?D(t,r):"string"==typeof r?D(t,[r]):(0,B.setTarget)(t,r)})),stop(){t.forEach(e=>{e.values.forEach(e=>e.stop())})},mount:()=>(e=!0,()=>{e=!1,i.stop()})};return i}let E=function(){let e=(0,T.useConstant)(A);return(0,k.useIsomorphicLayoutEffect)(e.mount,[]),e},I=(0,e.i(54624).default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function P(){let[e,c]=(0,i.useState)(null),[p,h]=(0,i.useState)(!0),[u,f]=(0,i.useState)([]),[g,y]=(0,i.useState)(!1),[v,T]=(0,i.useState)(!1),[k,R]=(0,i.useState)(!1),[B,V]=(0,i.useState)(0),D=(0,i.useRef)(0),A=(0,i.useRef)(!1),P=E(),L=async()=>{try{let e=await r.default.get("https://foodservice-production.up.railway.app/end");c(e.data)}catch(e){console.error("Error obteniendo resumen:",e)}},M=async()=>{T(!0);try{let e=await r.default.get("https://foodservice-production.up.railway.app/end/day");f(e.data)}catch(e){console.error("Error obteniendo ventas del dÃ­a:",e),f([])}finally{T(!1)}};(0,i.useEffect)(()=>{(async()=>{h(!0),await L(),h(!1)})()},[]);let $=async()=>{R(!0);try{await L()}finally{R(!1),P.start({y:0,transition:{type:"spring",stiffness:300,damping:30}}),V(0)}};return p?(0,t.jsx)(a.Box,{sx:{bgcolor:"#121212",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:(0,t.jsx)(d.CircularProgress,{color:"inherit"})}):e?(0,t.jsxs)(a.Box,{sx:{p:4,bgcolor:"#0a0a0a",color:"#fff",minHeight:"100vh",overflow:"hidden",WebkitOverflowScrolling:"touch"},onTouchStart:e=>{0===window.scrollY&&(D.current=e.touches[0].clientY,A.current=!0)},onTouchMove:e=>{if(!A.current)return;let t=e.touches[0].clientY-D.current;if(t>0){let e=t>140?140:t;V(e),P.start({y:e,transition:{type:"spring",stiffness:300,damping:30}})}},onTouchEnd:()=>{A.current&&(A.current=!1,B>70?$():(P.start({y:0,transition:{type:"spring",stiffness:300,damping:30}}),V(0)))},children:[(0,t.jsxs)(a.Box,{sx:{height:B,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",mb:1},children:[!k&&B>0&&(0,t.jsx)(o.Typography,{children:B>70?"Suelte para refrescar":"Deslice hacia abajo"}),k&&(0,t.jsx)(d.CircularProgress,{size:20,color:"inherit"})]}),(0,t.jsxs)(S.motion.div,{animate:P,children:[(0,t.jsx)(o.Typography,{variant:"h4",fontWeight:"bold",mb:4,children:"ğŸ“Š Resumen del DÃ­a"}),(0,t.jsxs)(n.Stack,{spacing:3,children:[(0,t.jsx)(l.Card,{sx:{bgcolor:"#1e1e1e",borderRadius:3},children:(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)(o.Typography,{variant:"h6",fontWeight:"bold",children:"Ventas"}),(0,t.jsx)(x,{sx:{my:1}}),(0,t.jsxs)(o.Typography,{children:["ğŸ’° Total ingresos: $",Number(e.totalVentas||0).toFixed(2)]}),(0,t.jsxs)(o.Typography,{children:["ğŸ›’ Total productos vendidos: ",e.totalProductosVendidos??0]}),(0,t.jsxs)(o.Typography,{children:["ğŸ”¥ Producto mÃ¡s vendido: ",e.productoMasVendido||"-"]}),(0,t.jsx)(a.Box,{mt:2,children:(0,t.jsx)(C.Button,{variant:"contained",onClick:()=>{y(!0),M()},children:"Ver ventas del dÃ­a"})})]})}),(0,t.jsx)(W,{title:"Inventario Inicial",data:e.inventarioInicial||[],color:"#4caf50"}),(0,t.jsx)(W,{title:"Inventario Final",data:e.inventarioFinal||[],color:"#ff9800"})]})]}),(0,t.jsxs)(m.Dialog,{open:g,onClose:()=>y(!1),fullWidth:!0,maxWidth:"sm",PaperProps:{sx:{bgcolor:"#1e1e1e",color:"#fff",borderRadius:3}},children:[(0,t.jsxs)(b.DialogTitle,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Ventas del dÃ­a",(0,t.jsx)(w.default,{color:"inherit",onClick:()=>y(!1),children:(0,t.jsx)(I,{})})]}),(0,t.jsx)(j.DialogContent,{dividers:!0,sx:{maxHeight:"70vh"},children:v?(0,t.jsx)(a.Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:200},children:(0,t.jsx)(d.CircularProgress,{color:"inherit"})}):0===u.length?(0,t.jsx)(o.Typography,{color:"gray",textAlign:"center",children:"No hay ventas registradas hoy."}):(0,t.jsx)(n.Stack,{spacing:2,children:u.map(e=>(0,t.jsx)(l.Card,{sx:{bgcolor:"#2a2a2a",borderRadius:2,borderLeft:"5px solid #2196f3"},children:(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)(o.Typography,{variant:"subtitle1",fontWeight:"bold",children:e.product_name}),(0,t.jsxs)(o.Typography,{variant:"body2",children:["Cantidad: ",e.quantity]}),(0,t.jsxs)(o.Typography,{variant:"body2",children:["Total: $",Number(e.total).toFixed(2)]}),(0,t.jsx)(o.Typography,{variant:"caption",color:"gray",sx:{display:"block",mt:1},children:new Date(e.created_at).toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"})})]})},e.id))})})]})]}):(0,t.jsx)(a.Box,{sx:{p:4,bgcolor:"#121212",color:"#fff"},children:(0,t.jsx)(o.Typography,{variant:"h6",color:"gray",children:"No se pudo cargar el resumen del dÃ­a."})})}function W({title:e,data:i,color:r}){return(0,t.jsx)(l.Card,{sx:{bgcolor:"#1e1e1e",borderRadius:3},children:(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)(o.Typography,{variant:"h6",fontWeight:"bold",children:e}),(0,t.jsx)(x,{sx:{my:1}}),(0,t.jsx)(n.Stack,{spacing:1,children:i.map(e=>(0,t.jsxs)(a.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1,borderRadius:2,bgcolor:"#2a2a2a",borderLeft:`5px solid ${r}`,"&:hover":{bgcolor:"#333333"}},children:[(0,t.jsx)(o.Typography,{variant:"body2",sx:{fontWeight:500},children:e.supply_name}),(0,t.jsxs)(o.Typography,{variant:"body2",sx:{fontWeight:700},children:[Number(e.inventario_inicial??e.inventario_final??0).toFixed(2)," ",e.unit||""]})]},`${e.supply_id}-${e.inventario_inicial??e.inventario_final}`))})]})})}e.s(["default",()=>P],30204)}]);